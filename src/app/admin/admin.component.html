<!-- head -->
<head>
  <title>DOPE_USEC ADMIN</title>
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
  <!-- MDB -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.css" rel="stylesheet" />
  <!-- MDB -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.js"></script>
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.23.0/moment.min.js"></script>

</head>
<!-- body -->
<body>
  <!-- navbar -->
  <ul style="margin-left: 1%;" class="list-group">
    <br>
    <br>
    <li><a class="btn" [ngClass]="{'active' : router.url === 'admin/clips'  || router.url === 'admin'}"
        href="admin/clips">Clips</a></li>
    <li><a class="btn" [ngClass]="{'active' : router.url === 'admin/events'}" href="
      admin/events">Events</a></li>
    <li style="margin-top: 320%;">
      <a class="btn btn-danger" *ngIf="authService.isLoggedIn" routerLinkActive="active" (click)="logout()">
        logout</a>
    </li>
  </ul>

  <!-- clips section -->
  <div *ngIf="router.url === 'admin/clips' || router.url === 'admin'"
    style="margin-left:10%;padding:1px 16px;height:1000px;">
    <section style="margin-left: 2%;" class="bg-light" id="clips">
      <h1 style="text-align: center; margin-top: 10%;">Clips Table</h1>
      <a class="btn" style="margin-left: 90%;background-color: lightblue;" [routerLink]="['']"><i class="fas fa-home"></i></a>
      <!-- add + search -->
      <nav class="navbar">
        <a style="margin-top:2%;margin-left: 2%; width: 5dp;" class="btn btn-success" (click)="openAddClip()"><i
            class="fa fa-2x fa-plus" aria-hidden="true"></i></a>
        <input style="width: 20%;margin-left: 70%;" [(ngModel)]="term" type="text" name="search"><i style="margin-right: 0%;" class="fas fa-search"></i>
      </nav>
      <!-- clips table -->
      <table style="margin-bottom: 5%;" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%"
        id='clips'>
        <thead class="thead-dark">
          <tr>
            <th class="th-sm">NAME</th>
            <th class="th-sm">DESCRIPTION</th>
            <th class="th-sm">LINK</th>
            <th class="th-sm">ACTIONS</th>
          </tr>
        </thead>
        <tr *ngFor="let clip of activeClips | paginate: { itemsPerPage: 5, currentPage: p } | filter:term">
          <th>{{clip.name}}</th>
          <th>{{clip.description}}</th>
          <th style="width: 20%;">{{clip.link}}</th>
          <th>
            <a class="mx-2" [routerLink]="['clips/details/',clip._id]" routerLinkActive="active-link"><br><i
                class="fa-2x fas fa-info-circle"></i></a>
            <a class="mx-2" (click)="openUpdateClip(clip)"><i class="fas fa-2x fa-edit"></i></a>
            <a class="mx-2" (click)="openRemoveClip(clip)" routerLinkActive="active"><i
                class="fas fa-2x fa-trash-alt"></i></a>
          </th>
        </tr>
      </table>
      <!-- pagination element -->
      <div style="align-items: center;margin-left: 35%;">
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </div>
    </section>
  </div>





<!-- eventes section -->
  <div style="margin-left:10%;padding:1px 16px;height:1000px;" *ngIf="router.url === 'admin/events'" >
    <section style="margin-left: 2%;" class="bg-light" id="events">
      <h1 style="text-align: center; margin-top: 10%;">Events Table</h1>
      <a class="btn" style="margin-left: 90%;background-color: lightblue;" [routerLink]="['']"><i class="fas fa-home"></i></a>
<!-- add + search -->
      <nav class="navbar">
        <a style="margin-top:2%;margin-left: 2%; width: 5dp;" class="btn btn-success" (click)="openAddEvent()"><i
            class="fa fa-2x fa-plus" aria-hidden="true"></i></a>
        <input style="width: 20%;margin-left: 70%;" [(ngModel)]="term" type="text" name="search"><i style="margin-right: 0%;" class="fas fa-search"></i>
      </nav>
      <!-- events table -->
      <table style="margin-bottom: 5%;" class="table table-striped table-bordered table-sm" cellspacing="0" width="1000px"
        id='events'>
        <thead class="thead-dark">
          <tr>
            <th class="th-sm">NAME</th>
            <th class="th-sm">DESCRIPTION</th>
            <th class="th-sm">LINK</th>
            <th class="th-sm">TIME</th>
            <th class="th-sm">RULES</th>
            <th class="th-sm">PHOTO</th>
            <th class="th-sm">ACTIONS</th>
          </tr>
        </thead>
        <tr *ngFor="let event of activeEvents | paginate: { itemsPerPage: 5, currentPage: p} | filter:term">
          <th>{{event.name}}</th>
          <th>{{event.description}}</th>
          <th style="width: 10%;">{{event.link}}</th>
          <th>{{event.time | date:'short'}}</th>
          <th>{{event.rules}}</th>
          <th style="width: 10%;">{{event.photo}}</th>
          <th>
            <a class="mx-2" [routerLink]="['events/details',event._id]" routerLinkActive="active-link"><i class="fa-2x fas fa-info-circle"></i></a>
            <a class="mx-2" (click)="openUpdateEvent(event)"><i class="fa-2x fas fa-edit"></i></a>
            <a class="mx-2" (click)="openRemoveEvent(event)" routerLinkActive="active"><i class="fa-2x fas fa-trash-alt"></i></a>
          </th>
        </tr>
      </table>
      <!-- pagination elemet -->
      <div style="align-items: center;margin-left: 45%;">
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </div>
    </section>
  </div>
</body>
